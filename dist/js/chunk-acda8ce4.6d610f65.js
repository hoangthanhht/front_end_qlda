(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-acda8ce4"],{"6e9a":function(t,a,s){"use strict";s("c60f")},"8aad":function(t,a,s){},"97f7":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"d-flex flex-row"},[s("div",{staticClass:"flex-row-auto offcanvas-mobile w-300px w-xl-350px",attrs:{id:"kt_profile_aside"}},[s("div",{staticClass:"card card-custom"},[s("div",{staticClass:"card-body pt-15"},[s("div",{staticClass:"text-center mb-10"},[s("div",{staticClass:"symbol symbol-60 symbol-circle symbol-xl-90"},[s("div",{staticClass:"symbol-label",style:{backgroundImage:"url('"+t.currentUserPhoto+"')"}}),s("i",{staticClass:"symbol-badge symbol-badge-bottom bg-success"})]),s("h4",{staticClass:"font-weight-bold my-2"},[t._v(" "+t._s(t.currentUserPersonalInfo.user.name)+" ")]),s("div",{staticClass:"text-muted mb-2"},[t._v(" "+t._s(t.currentUserPersonalInfo.user.role)+" ")]),s("span",{staticClass:"\n              label label-light-warning label-inline\n              font-weight-bold\n              label-lg\n            "},[t._v("Active")])]),t._m(0),s("div",{staticClass:"navi navi-bold navi-hover navi-active navi-link-rounded",attrs:{role:"tablist"}},[s("div",{staticClass:"navi-item mb-2"},[s("a",{staticClass:"\n                btn btn-hover-light-primary\n                font-weight-bold\n                py-3\n                px-6\n                mb-2\n                text-center\n                btn-block\n              ",staticStyle:{cursor:"pointer"},attrs:{"data-tab":"1","data-toggle":"tab",role:"tab"},on:{click:t.setActiveTab}},[t._v(" Personal info ")]),s("a",{staticClass:"\n                btn btn-hover-light-primary\n                font-weight-bold\n                py-3\n                px-6\n                mb-2\n                text-center\n                btn-block\n              ",staticStyle:{cursor:"pointer"},attrs:{"data-tab":"3","data-toggle":"tab",role:"tab"},on:{click:t.setActiveTab}},[t._v(" Change Passwort ")])])])])])]),s("div",{staticClass:"flex-row-fluid ml-lg-8"},[s("b-tabs",{staticClass:"hide-tabs thanhthanh",model:{value:t.tabIndex,callback:function(a){t.tabIndex=a},expression:"tabIndex"}},[s("b-tab",{attrs:{active:""}}),s("b-tab",[s("KTPersonalInformation")],1),s("b-tab",[s("KTChangePassword")],1)],1)],1)])},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mb-10 text-center"},[s("a",{staticClass:"btn btn-icon btn-circle btn-light-facebook mr-2",attrs:{href:"#"}},[s("i",{staticClass:"socicon-facebook"})]),s("a",{staticClass:"btn btn-icon btn-circle btn-light-twitter mr-2",attrs:{href:"#"}},[s("i",{staticClass:"socicon-twitter"})]),s("a",{staticClass:"btn btn-icon btn-circle btn-light-google",attrs:{href:"#"}},[s("i",{staticClass:"socicon-google"})])])}],o=s("5530"),l=s("2f62"),n=s("25a6"),i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card card-custom"},[s("div",{staticClass:"card-header py-3"},[t._m(0),s("div",{staticClass:"card-toolbar"},[s("button",{ref:"kt_save_changes",staticClass:"btn btn-success mr-2",attrs:{type:"reset"},on:{click:function(a){return t.save()}}},[t._v(" Save Changes ")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"reset"},on:{click:function(a){return t.cancel()}}},[t._v(" Cancel ")])])]),s("form",{staticClass:"form"},[s("div",{staticClass:"card-body"},[t._m(1),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-right"},[t._v("Avatar")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("div",{staticClass:"image-input image-input-outline",attrs:{id:"kt_profile_avatar"}},[s("div",{staticClass:"image-input-wrapper",style:{backgroundImage:"url("+t.photo+")"}}),s("label",{staticClass:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",attrs:{"data-action":"change","data-toggle":"tooltip",title:"","data-original-title":"Change avatar"}},[s("i",{staticClass:"fa fa-pen icon-sm text-muted"}),s("input",{attrs:{type:"file",name:"profile_avatar",accept:".png, .jpg, .jpeg"},on:{change:function(a){return t.onFileChange(a)}}}),s("input",{attrs:{type:"hidden",name:"profile_avatar_remove"}})]),t._m(2),s("span",{staticClass:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",attrs:{"data-action":"remove","data-toggle":"tooltip",title:"Remove avatar"},on:{click:function(a){t.current_photo=null}}},[s("i",{staticClass:"ki ki-bold-close icon-xs text-muted"})])]),s("span",{staticClass:"form-text text-muted"},[t._v("Allowed file types: png, jpg, jpeg.")])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-right"},[t._v("Name")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("input",{ref:"name",staticClass:"form-control form-control-lg form-control-solid",attrs:{type:"text"},domProps:{value:t.currentUserPersonalInfo.name}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-right"},[t._v("Last Name")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("input",{ref:"surname",staticClass:"form-control form-control-lg form-control-solid",attrs:{type:"text"},domProps:{value:t.currentUserPersonalInfo.surname}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-right"},[t._v("Company Name")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("input",{ref:"company_name",staticClass:"form-control form-control-lg form-control-solid",attrs:{type:"text"},domProps:{value:t.currentUserPersonalInfo.company_name}}),s("span",{staticClass:"form-text text-muted"},[t._v("If you want your invoices addressed to a company. Leave blank to use your full name.")])])]),t._m(3),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-right"},[t._v("Contact Phone")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("div",{staticClass:"input-group input-group-lg input-group-solid"},[t._m(4),s("input",{ref:"phone",staticClass:"form-control form-control-lg form-control-solid",attrs:{type:"text",placeholder:"Phone"},domProps:{value:t.currentUserPersonalInfo.phone}})]),s("span",{staticClass:"form-text text-muted"},[t._v("We'll never share your email with anyone else.")])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-right"},[t._v("Email Address")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("div",{staticClass:"input-group input-group-lg input-group-solid"},[t._m(5),s("input",{ref:"email",staticClass:"form-control form-control-lg form-control-solid",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.currentUserPersonalInfo.email}})])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-right"},[t._v("Company Site")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("div",{staticClass:"input-group input-group-lg input-group-solid"},[s("input",{ref:"company_site",staticClass:"form-control form-control-lg form-control-solid",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.currentUserPersonalInfo.company_site}}),t._m(6)])])])])])])},c=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-title align-items-start flex-column"},[s("h3",{staticClass:"card-label font-weight-bolder text-dark"},[t._v(" Personal Information ")]),s("span",{staticClass:"text-muted font-weight-bold font-size-sm mt-1"},[t._v("Update your personal informaiton")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row"},[s("label",{staticClass:"col-xl-3"}),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("h5",{staticClass:"font-weight-bold mb-6"},[t._v("Customer Info")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("span",{staticClass:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow",attrs:{"data-action":"cancel","data-toggle":"tooltip",title:"Cancel avatar"}},[s("i",{staticClass:"ki ki-bold-close icon-xs text-muted"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row"},[s("label",{staticClass:"col-xl-3"}),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("h5",{staticClass:"font-weight-bold mt-10 mb-6"},[t._v("Contact Info")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[s("i",{staticClass:"la la-phone"})])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[s("i",{staticClass:"la la-at"})])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text"},[t._v(".com")])])}],d=(s("b0c0"),{name:"PersonalInformation",data:function(){return{default_photo:"media/users/blank.png",current_photo:null,avatar:{objFile:null,base64URL:""}}},created:function(){this["storeqlda/checkLogin"]()},mounted:function(){this.current_photo=this.currentUserPersonalInfo.photo},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["storeqlda/updateProfile","storeqlda/getUrlAvatar","storeqlda/checkLogin"])),{},{save:function(){var t=this,a=this.$refs.name.value,s=this.$refs["kt_save_changes"];s.classList.add("spinner","spinner-light","spinner-right"),setTimeout((function(){if(a){var e={name:a};t.avatar.objFile&&(e.objFile=t.avatar.objFile),t["storeqlda/updateProfile"](e).then((function(t){t.ok?alert("Update thông tin Profile thành công!"):alert(t.error)})).then((function(){t["storeqlda/getUrlAvatar"](t.currentUserPersonalInfo.user.id)}))}else alert("Bạn chưa nhập tên");s.classList.remove("spinner","spinner-light","spinner-right")}),2e3)},cancel:function(){this.$refs.name.value=this.currentUserPersonalInfo.name,this.$refs.surname.value=this.currentUserPersonalInfo.surname,this.$refs.company_name.value=this.currentUserPersonalInfo.company_name,this.$refs.phone.value=this.currentUserPersonalInfo.phone,this.$refs.email.value=this.currentUserPersonalInfo.email,this.$refs.company_site.value=this.currentUserPersonalInfo.company_site,this.current_photo=this.currentUserPersonalInfo.photo},onFileChange:function(t){var a=this,s=t.target.files[0];if("function"===typeof FileReader){var e=new FileReader;e.onload=function(t){a.current_photo=t.target.result,a.avatar.objFile=s},e.readAsDataURL(s)}else alert("Sorry, FileReader API not supported")}}),computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["currentUserPersonalInfo","getcurrentUserAccountInfo"])),{},{photo:function(){return null==this.current_photo?this.default_photo:this.current_photo}})}),u=d,f=(s("6e9a"),s("2877")),p=Object(f["a"])(u,i,c,!1,null,"cf0e328a",null),m=p.exports,v=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card card-custom"},[s("div",{staticClass:"card-header py-3"},[t._m(0),s("div",{staticClass:"card-toolbar"},[s("button",{ref:"kt_save_changes",staticClass:"btn btn-success mr-2",attrs:{type:"submit"},on:{click:function(a){return t.save()}}},[t._v(" Save Changes ")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"reset"},on:{click:function(a){return t.cancel()}}},[t._v(" Cancel ")])])]),s("form",{staticClass:"form",attrs:{id:"kt_password_change_form"}},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"alert alert-custom alert-light-danger fade show mb-10",attrs:{role:"alert"}},[s("div",{staticClass:"alert-icon"},[s("span",{staticClass:"svg-icon svg-icon-3x svg-icon-danger"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}},[s("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("rect",{attrs:{x:"0",y:"0",width:"24",height:"24"}}),s("circle",{attrs:{fill:"#000000",opacity:"0.3",cx:"12",cy:"12",r:"10"}}),s("rect",{attrs:{fill:"#000000",x:"11",y:"10",width:"2",height:"7",rx:"1"}}),s("rect",{attrs:{fill:"#000000",x:"11",y:"7",width:"2",height:"2",rx:"1"}})])])])]),t._m(1),t._m(2)]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-alert"},[t._v("Current Password")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("input",{ref:"current_password",staticClass:"form-control form-control-lg form-control-solid mb-2",attrs:{type:"password",value:"",placeholder:"Current password",name:"current_password"}}),s("router-link",{staticClass:"text-sm font-weight-bold",attrs:{to:"/login",href:"#"}},[t._v("Forgot password ?")])],1)]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-alert"},[t._v("New Password")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("input",{ref:"new_password",staticClass:"form-control form-control-lg form-control-solid",attrs:{type:"password",value:"",placeholder:"New password",name:"new_password"}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-xl-3 col-lg-3 col-form-label text-alert"},[t._v("Verify Password")]),s("div",{staticClass:"col-lg-9 col-xl-6"},[s("input",{ref:"verify_password",staticClass:"form-control form-control-lg form-control-solid",attrs:{type:"password",value:"",placeholder:"Verify password",name:"verify_password"}})])])])])])},h=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-title align-items-start flex-column"},[s("h3",{staticClass:"card-label font-weight-bolder text-dark"},[t._v("Change Password")]),s("span",{staticClass:"text-muted font-weight-bold font-size-sm mt-1"},[t._v("Change your account password")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"alert-text font-weight-bold"},[t._v(" Configure user passwords to expire periodically. Users will need warning that their passwords are going to expire, "),s("br"),t._v("or they might inadvertently get locked out of the system! ")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"alert-close"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[s("i",{staticClass:"ki ki-close"})])])])}],b=s("ae1f"),g=s("1f99"),C=s("34aa"),_=s("5feb"),w=s("e682"),x=s("3d20"),y=s.n(x),P={name:"ChangePassword",data:function(){return{password:"",status:"",valid:!0}},mounted:function(){var t=b["a"].getById("kt_password_change_form");this.fv=Object(g["a"])(t,{fields:{current_password:{validators:{notEmpty:{message:"Current password is required"}}},new_password:{validators:{notEmpty:{message:"New password is required"}}},verify_password:{validators:{notEmpty:{message:"Confirm password is required"},identical:{compare:function(){return t.querySelector('[name="new_password"]').value},message:"The password and its confirm are not the same"}}}},plugins:{trigger:new C["a"],bootstrap:new _["a"],submitButton:new w["a"]}})},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["storeqlda/changPassUser"])),{},{save:function(){var t=this;this.fv.validate(),this.fv.on("core.form.valid",(function(){var a=t.$refs.current_password.value,s=t.$refs.new_password.value,e=t.$refs.verify_password.value,r={current_password:a,new_password:s,verify_password:e},o=t.$refs["kt_save_changes"];o.classList.add("spinner","spinner-light","spinner-right"),setTimeout((function(){t["storeqlda/changPassUser"](r).then((function(a){!0===a.data.success?(alert(a.data.error),t.$router.push({name:"dashboard"})):alert(a.data.error)})),o.classList.remove("spinner","spinner-light","spinner-right")}),2e3)})),this.fv.on("core.form.invalid",(function(){y.a.fire({title:"",text:"Please, provide correct data!",icon:"error",confirmButtonClass:"btn btn-secondary"})}))},cancel:function(){this.fv.resetForm(),this.$refs.current_password.value="",this.$refs.new_password.value="",this.$refs.verify_password.value=""}}),computed:Object(o["a"])({},Object(l["c"])(["currentUser"]))},k=P,I=(s("d784d"),Object(f["a"])(k,v,h,!1,null,"1a10a542",null)),U=I.exports,$={name:"Profile-2",data:function(){return{tabIndex:0}},components:{KTPersonalInformation:m,KTChangePassword:U},created:function(){var t=this;this["storeqlda/checkLogin"]().then((function(){t["storeqlda/getUrlAvatar"](t.currentUserPersonalInfo.user.id)}))},mounted:function(){this.$store.dispatch(n["a"],[{title:"Profile 2"}])},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["storeqlda/getUrlAvatar","storeqlda/checkLogin"])),{},{setActiveTab:function(t){for(var a=t.target,s=a.closest('[role="tablist"]'),e=s.querySelectorAll('[data-toggle="tab"]'),r=0;r<e.length;r++)e[r].classList.remove("active");this.tabIndex=parseInt(a.getAttribute("data-tab")),a.classList.add("active")}}),computed:Object(o["a"])({},Object(l["c"])(["currentUserPersonalInfo","currentUserPhoto"]))},j=$,O=(s("bafb"),Object(f["a"])(j,e,r,!1,null,"2f0461bc",null));a["default"]=O.exports},ac7c:function(t,a,s){},bafb:function(t,a,s){"use strict";s("ac7c")},c60f:function(t,a,s){},d784d:function(t,a,s){"use strict";s("8aad")}}]);
//# sourceMappingURL=chunk-acda8ce4.6d610f65.js.map